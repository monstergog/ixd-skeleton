<!doctype html>

<html>
<head>
	<title>HCI Project Portfolio</title>	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="/css/introHCI.css" rel="stylesheet">
	<!-- this is a comment in HTML -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->        
		
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/introHCI.js"></script>
</head>

<body>
	<div class="container">
		<!-- h1 through h6 are headers. The higher the number, the smaller the header -->
		<!-- p means paragraph -->
		<a href="/menu" class="thumbnail">
			<p style=";font-size:20px;" align="center"><b>Back To Main Menu</b></p>
		</a>
		
		<div align="middle" class="jumbotron">
			<h1>Buy Buddy</h1>
		</div>

		<h4 style=";font-size:30px;" align="center"><b>History</b></h4>
		
		<!-- <span>Time Range:</span> -->
		<!-- <select class='ui dropdown' id='timeRange'> -->
			<!-- <option value='null'>Time Range</option> -->
			<!-- <option value='day'>Today</option> -->
			<!-- <option value='week'>This Week</option> -->
			<!-- <option value='month'>This Month</option> -->
			<!-- <option value='year'>This Year</option> -->
		<!-- </select> -->
		<!-- <button onclick='filter()'>Filter List</button><br><br> -->

		<div><b>
			Total Amount Spent: $<span id='spent'></span><br>
			Total Amount Spent on Needs: $<span id='need'></span><br>
			Total Amount Spent on Wants: $<span id='want'></span><br>
		</b></div>
		<script>
			var moneySpent = 0;
			var moneyNeed = 0;
			var moneyWant = 0;
			var index = 0;
		</script>
		
		{{#each purchases}}
			<div class='toFilter' id={{item}}>
				<h3>{{num}}.{{item}} / ${{cost}} / {{wantNeed}}</a></h3>
				<h4>Date: {{date}}</h4>
				<p>Note:&nbsp{{note}}</p>
				<form action='/History/Delete'>
					<span style="display: none;" class='toBeDel'></span>
					<input type='submit' value="Delete">
				</form>
				<hr>
			</div>
			
			<script>
				var num = parseInt({{cost}});
				moneySpent = moneySpent + num;
				
				$('.toBeDel').html(
				'<input class="toBeDel" name="item" value="'
				+ "10"
				+ '"><input>'
				);
				
				if ("{{wantNeed}}" == 'Need') 
					{moneyNeed = moneyNeed + num;}
				else if ("{{wantNeed}}" == 'Want')
					{moneyWant = moneyWant + num;}
			</script>
		{{/each}}
		
		<script>
			document.getElementById("spent").innerHTML = moneySpent;
			document.getElementById("need").innerHTML = moneyNeed;
			document.getElementById("want").innerHTML = moneyWant;
		</script>
	</div>
</body>
</html>
